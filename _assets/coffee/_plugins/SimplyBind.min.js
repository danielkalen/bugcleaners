(function(){(function(){var g,V,ia,aa,n,ba,M,Q,ca,ja,ka,la,W,h,R,I,m,J,X,Y,da,S,Z,K;W=function(a){a=typeof a;return"string"!==a&&"number"!==a&&"boolean"!==a?!1:!0};ca=function(a){var c;1<a.length?"radio"===a[0].type||"checkbox"===a[0].type?(c=a,a=[],Object.keys(c).forEach(function(d){if(!isNaN(parseFloat(d)))return a.push(c[d])})):(Z("onlyOneDOMElement"),a=a[0]):a=a[0];return a};Q=function(a){X.jQuery&&a.constructor===jQuery&&(a=ca(a),a.length&&(a=a[0]));return a};ja=function(){return"sb_"+Math.floor(1E12*
(1+Math.random())).toString(16)};ia=function(a,c,d){var e;e=n.objects.indexOf(a);return-1===e?(e={},e[c]=d,n.objects.push(a),n.props.push(e)):n.props[e][c]=d};ka=function(a,c){var d;d=n.objects.indexOf(a);return-1!==d&&(d=n.props[d],null!=d[c])?g.boundedObjects[d[c]]:!1};J=function(a,c){return{regEx:new RegExp(I.Start+a+I.End,"g"),lastValue:c}};aa=function(a,c,d){var e;e=m.objects.indexOf(a);if(-1===e)return e={},e[c]=J(c,d),m.objects.push(a),m.placeholders.push(e);a=m.placeholders[e];return null!=
a[c]?a[c].lastValue=d:a[c]=J(c,d)};la=function(a){a=m.objects.indexOf(a);return m.placeholders[a]};S=function(a){if(!h.silent&&null!=M[a])throw Error(M[a]);};Z=function(a){if(!h.silent&&K[a])return console.log("SimplyBind - Warning: "+K[a])};ba=function(){var a;a=document.createEvent("Event");a.initEvent("change",!0,!1);a.fromSimplyBind=!0;return a};M={invalidArg:"SimplyBind can only accept a string/number representing the name of an object\u2019s property or an existing SimplyBind object.",emptyStringArg:"SimplyBind cannot accept an empty string for a property name."};
K={attributes:"DOM Attributes cannot be observed for changes and therefore will not update its dependents upon change",transformFunction:"You can only pass a function to the .withTransform() method",onlyOneDOMElement:"You can only pass one DOM element into SimplyBind unless it's a collection of radio/checkbox inputs",noNestedDOM:"You cannot pass nested properties for DOM attributes or input element values. Will only use the uppermost property."};X={jQuery:"undefined"!==typeof jQuery&&null!==jQuery,
IE9:!window.atob};h={silent:!1,liveProperties:!0,dispatchEvents:!1,updateEvenIfSame:!1,invokeOnBind:!0,overrideInheritedProps:!1,placeholderStart:"{{",placeholderEnd:"}}"};R=Object.keys(h);I={Start:"\\{\\{",End:"\\}\\}"};n={objects:[],props:[]};m={objects:[],placeholders:[]};Y=[];da=[];g=function(a){""===a&&S("emptyStringArg");if(!a&&0!==a||!W(a))if(null==a.constructor||a.constructor!==g.SimplyBoundedConstructor){S("invalidArg");return}return"object"===typeof a?(a.invoke("resetConditionals"),a):new V(a)};
V=function(a){var c,d,e,ea,n,w,p,l,q,D,x,m,B,T,r,I,t,y,M,U,f,z,E,u,k,A,F,J,K,Q,C,N,R,G,fa,ga,ha,L,O,P,ma,v;this.ID=this.type=null;c=this;E=v=D=U=null;p=[];l=[];q=[];f=z=null;L=[];u=C=a;O={};k=null;F=[];A=null;N=T=y=t=B=!1;Object.defineProperty(this,"value",{configurable:!0,enumerable:!0,get:function(){return D}});Object.defineProperty(this,"origObject",{configurable:!0,enumerable:!0,get:function(){return z||f}});Object.defineProperty(this,"dependents",{configurable:!0,enumerable:!0,get:function(){var b;
b=l.slice().map(function(b){var a;return null!=(a=g.boundedObjects[b])?a.origObject:void 0});p.forEach(function(a){return b.push(a)});return b}});R=function(b){return function(){b.ID=ja();return g.boundedObjects[b.ID]=b}}(this);ha=function(b){return function(){var a;if(!b.type&&(b.type="Object",a=null!=f.nodeName&&f.nodeType))return"value"===u?b.type="Value":"textContent"===u?b.type="Text":b.type="Attr"}}(this);fa=function(b){null==b&&(b=x());return aa(b,E,v)};ga=function(b){if(N)return[].slice.call(b.childNodes).forEach(function(b){if(3!==
b.nodeType)return ga(b);if(-1!==b.textContent.indexOf(h.placeholderStart+E+h.placeholderEnd)&&(aa(b,E,v),-1===Y.indexOf(b)))return Y.push(b),da.push(b.textContent)})};m=function(b,a){var H;H=Y.indexOf(b);return-1!==H?ea(b,da[H]):!1};x=function(){var b;if(L.length){c.ID||ha();if("Value"===c.type||"Attr"===c.type)return f;b=f;L.slice().reverse().forEach(function(a){return b=b[a]});return b}return f};w=function(b){return function(){var a,H;if("Value"===b.type||"Text"===b.type)if(a=function(a){if(!a.fromSimplyBind)return b.set(a.target.value)},
H=z?z[0].nodeName.toUpperCase():f.nodeName.toUpperCase(),"Text"===b.type||"INPUT"===H||"TEXTAREA"===H||"SELECT"===H){if("radio"===f.type||"checkbox"===f.type)return z.forEach(function(b){return b.addEventListener("change",a,!1)});f.addEventListener("input",a,!1);X.IE9&&f.addEventListener("keyup",a,!1);return f.addEventListener("change",a,!1)}}}(this);n=function(b){return N?[].slice.call(b.childNodes).forEach(function(b){var a;if(3!==b.nodeType)return n(b);a=m(b);if(!1!==a)return b.textContent=a}):
b.textContent=v};ma=function(b){return function(a){v=a;D=N?ea():a;if("Value"===b.type){if(z)return z.forEach(function(b){return b.value===a?(b.checked=!0,b.dispatchEvent(ba())):b.checked=!1});f.value=D;if(h.dispatchEvents)return f.dispatchEvent(ba())}else{if("Attr"===b.type)return f.setAttribute(u,D);if("Text"===b.type)return n(f,a)}}}(this);P=function(b){return function(b,a){var c,d,e,f;if(l.length)for(e=0,f=l.length;e<f;e++)d=l[e],c=g.boundedObjects[d],a&&-1!==q.indexOf(d)||(d=null!=O[d]?O[d](v,
c.value):v,c.set(d,b,!0));if(p.length){d=[];e=0;for(f=p.length;e<f;e++)c=p[e],d.push(c(v));return d}}}(this);ea=function(b,a){var d,c,e,f;null==b&&(b=x());null==a&&(a=U);fa(b);d=a;f=la(b);for(c in f)e=f[c],d=d.replace(e.regEx,e.lastValue);return d};M=function(b){return function(){var a;if("Object"===b.type&&h.liveProperties&&(a=h.overrideInheritedProps?!0:x().hasOwnProperty(u)))return Object.defineProperty(x(),u,{get:function(){return D},set:function(a){return b.update(a)}})}}(this);d=function(b){return function(a,
c){-1===l.indexOf(a)&&l.push(a);if(c){if(-1===q.indexOf(a))return q.push(a)}else if(-1!==g.boundedObjects[a].getPrivate("dependents").indexOf(b.ID))return g.boundedObjects[a].invoke("addToDependents",[b.ID,!0]),d(a,!0)}}(this);e=function(b){return function(b,a){return O[b]=a}}(this);J=function(b){return function(a,d){var c;c=l.indexOf(a);-1!==c&&l.splice(c,1);if(d&&(q.forEach(function(a){return g.boundedObjects[a].invoke("removeDependent",[b.ID])}),c=q.indexOf(a),-1!==c))return q.splice(c,1)}}(this);
K=function(b){return function(b){b=p.indexOf(b);return p.splice(b,1)}}(this);Q=function(b){return function(){T=t=y=!1;k=A=null;F=[];G();return b}}(this);G=function(b){return function(){delete b.of;delete b.to;delete b.and;delete b.set;delete b.update;delete b.get;delete b.update;delete b.withTransform;delete b.bothWays;delete b.bindTogether;B&&!y||A||(b.of=r.of);!B||t||y||(b.to=r.to);B&&t&&!y&&!T&&(b.and=r.and);B&&(b.set=r.set,b.update=r.set,b.get=r.get,b.val=r.get);B&&t&&!T&&null!=k&&!A&&(b.withTransform=
r.withTransform);B&&t&&!y&&null!=k&&!A&&(b.bothWays=r.bothWays,b.bindTogether=r.bothWays);if(B&&t&&!y&&(null!=k||A))return b.unBind=r.unBind}}(this);I=function(b){return function(a,c){null==c&&(c=[]);switch(a){case "addToDependents":return d.apply(b,c);case "addToTransforms":return e.apply(b,c);case "removeDependent":return J.apply(b,c);case "resetConditionals":return Q.call(b);case "removeFunction":return K.call(b,c)}}}(this);a=function(b){return function(b){switch(b){case "dependents":return l;
case "dependentFns":return p}}}(this);Object.defineProperty(this,"invoke",{configurable:!1,enumerable:!1,value:I});Object.defineProperty(this,"getPrivate",{configurable:!1,enumerable:!1,value:a});r={of:function(b){var a,c;a=null!=b?"object"===typeof b:!1;c=null!=b?W(b):!1;a||c||S("invalidArg");if(y)c=F.indexOf(k),k=k.of(b),F[c]=k,a&&(y=!1,t=!0,d(k.ID),P(this.ID,!0));else if(a){c=!1;b.constructor===g.SimplyBoundedConstructor&&(b=b.origObject);B=!0;X.jQuery&&b.constructor===jQuery&&(c=!0,b=ca(b));f=
b;a=x()[u];if("NodeList"===b.constructor.name||"HTMLCollection"===b.constructor.name||c&&b.length)f=null,z=[].slice.call(b),z.forEach(function(b){if(b.checked)return f=b}),f||(f=z[0]),b=f,a=f.value;if(c=null!=f.nodeName&&f.nodeType)"textContent"===u?(ga(f),a=f.textContent):"value"!==u&&(a=b.getAttribute(u)),L.length&&(Z("noNestedDOM"),u=C=b=L[L.length-1]);b=ka(x(),C);if(null!=b&&"function"===typeof b.invoke&&b.invoke("resetConditionals"))return b;void 0===a&&"object"===typeof x()&&(a=x()[u]=null);
U=a;N?(D=U,v=h.placeholderStart+E+h.placeholderEnd,fa()):v=D=U;R();ia(x(),C,this.ID);ha();M();w()}else c&&L.push(b);G();return this},to:function(b){if(null==b)return this;b.constructor===g.SimplyBoundedConstructor?(t=!0,k=b,F.push(k),d(k.ID),P(this.ID,!0)):W(b)?(y=!0,k=new V(b),F.push(k)):"function"===typeof b?(t=!0,-1===p.indexOf(b)&&p.push(b),A=b,h.invokeOnBind&&P(this.ID,!0)):S("invalidArg");G();t&&this.update(null,this.ID);return this},and:function(b){return r.to.bind(this)(b)},set:function(b,
a,c){null==c&&(c=!1);a===this.ID||b===v&&!h.updateEvenIfSame||(null==a&&(a=this.ID),"undefined"!==typeof b&&ma(b,a),P(a,c));return this},get:function(){return v},withTransform:function(a){var c,d,f;if("function"===typeof a){T=!0;c=0;for(d=F.length;c<d;c++)f=F[c],e(f.ID,a),-1!==q.indexOf(f.ID)&&f.invoke("addToTransforms",[this.ID,a]);P(this.ID,!0)}else Z("transformFunction");G();return this},bothWays:function(){null!=O[k.ID]?g(k).to(this).withTransform(O[k.ID]):g(k).to(this);d(k.ID,!0);G();return this},
unBind:function(a){A?(K(A),t=!1,A=null):(J(k.ID,a),t=!1,k=null);G();return this}};"number"===typeof C&&(C=C.toString());-1!==C.indexOf(".")&&(N=!0,a=C.split("."),u=a[0],E=a[1],2<a.length&&a.slice(2).forEach(function(a){return E+="."+a}));G();return this};g.setOption=function(a,c){if(-1!==R.indexOf(a))return-1!==a.indexOf("placeholder")&&(a.indexOf("Start"),I[a.slice(11)]=c.replace(/(.)/g,"\\$1")),h[a]=c};g.setOptions=function(a){var c;c=Object.keys(a);if(c.length)return c.forEach(function(c){return g.setOption(c,
a[c])})};g.options=function(){return h};g.unBindAll=function(a,c,d){var e,h,m,w,p,l,q;d||g.unBindAllFunctions(a);if(a&&"object"===typeof a&&(a=Q(a),d=null!=a.nodeName&&a.nodeType,e=n.objects.indexOf(a),-1!==e)){p=n.props[e];q=[];for(l in p)w=p[l],m=d&&"value"!==l?a.getAttribute(l):a[l],h=g.boundedObjects[w],e=h.getPrivate("dependents"),e.slice().forEach(function(a){return h.invoke("removeDependent",[a,c])}),c?(delete g.boundedObjects[w],"Value"!==h.type?q.push(Object.defineProperty(a,l,{value:m})):
q.push(void 0)):q.push(void 0);return q}};g.unBindAllFunctions=function(a,c){var d,e,h,m,w;if(a&&"object"===typeof a&&(e=n.objects.indexOf(a),-1!==e)){d=function(a){var c;if(a)return c=g.boundedObjects[a],a=c.getPrivate("dependentFns"),a.slice().forEach(function(a){return c.invoke("removeFunction",a)})};h=n.props[e];if(c)return d(h[c]);w=[];for(m in h)e=h[m],w.push(d(e));return w}};g.SimplyBoundedConstructor=V;g.boundedObjects={};return window.SimplyBind=g})()}).call(this);
