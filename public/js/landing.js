(function(){!function(t){var e,i,n,s,r,a,l,o,h;e=t(window),h="input",a={error:'<div class="results-message error">An unknown error has occured on the server, please contact customer support for help.</div>',loading:'<div class="loading"><div class="loading-title">Processing your information...</div><div class="loading-gif"></div></div>'},s={submitUrl:"/ajax",stepClosedHeight:39,heightTransitions:!1,validateOnTyping:!1,preserveValuesAfterRefresh:!0,hasLoadingStep:!0,forceAjaxSubmit:!1,submitOnEnter:!0,dontDisableFields:!1,uniqueSteps:!1,customTransition:!1,heightToggleAnimation:!0,customNext:!1,customBack:!1,customSubmit:!1,callbackOnPrepare:function(){},callbackOnResults:function(){},callbackOnValidate:function(){},callbackOnNextStep:function(){},callbackOnBackStep:function(){},callbackOnEventAttachment:function(){}},window.Form=function(i,n){return this.options=t.extend(s,n),this.window=e,this.skippedAStep=!1,this.disabled=!1,this.step={current:null,prev:null,next:null},this.action=i.data("action"),this.action?this.form=i:(this.form=i.find("form").first(),this.action=this.form.data("action"),this.action||(this.form=i)),this.fields=[],this.fieldsByName={},this.fieldsRequired=[],this.fieldsInSteps=[],this.stepIndexOffset=this.form.find(".step").first().index(),this.stepIndexOffset<0&&(this.stepIndexOffset=0),this.resultsPlaceholder=this.form.find(".results"),this.multiStep=this.form.find(".step").length>1,this.focused_atleast_once=!1,this.form.data("Form")||this.form.data("Form",this),this.Prepare(!0),this.options.heightTransitions&&this.multiStep&&this.manageStepHeight(this.options.stepClosedHeight),this},i=function(t,e,i){var n,s,r,a,l,o;if(null==i&&(i={}),t.data("Field",this),s=this,this.form=e,this.step=t.parents(".step").first(),this.field=t,this.data=this.field.data(),this.input=this.field.find(".input"),this.type=this.data.type,this.name=this.data.realname||this.data.name,this.nameReal=this.data.name,this.data.pattern&&(this.pattern=new RegExp(this.data.pattern)),this.data.force_pattern&&(this.forcePattern=this.data.force_pattern),this.data.force_live&&(this.forceLive=this.data.force_live),this.data.comments&&(this.comments=this.data.comments),this.data.desc&&(this.desc=this.data.desc),this.data.error&&(this.errorMsg=this.data.error),this["default"]=this.data.default_value,this.required="1"===this.data.required||1===this.data.required,null!=this.data.minimum&&(this.minimum=this.data.minimum),null!=this.data.maximum&&(this.maximum=this.data.maximum),this.collapsed=!!this.data.collapsed,this.disabled="1"===this.data.disabled_forever||!1,this.data.disabled_forever&&(this.disabledForever=this.disabled),this.data.height&&(this.height=this.data.height),this.data.depends_on&&(this.dependsOn=this.data.depends_on),this.data.condition_scope&&(this.conditionScope=this.data.condition_scope),this.data.depends_on&&(this.comparison=this.data.comparison||"="),this.data.depends_on&&(this.condition=this.data.condition),this.data.conditional_values&&(this.conditionalValues=this.data.conditional_values),this.data.depends_on&&(this.revealed=null),this.value=this["default"]||null,this.valid=!1,this.conditionalDeps={},this.conditionalDeps.cbs={deps:[],callbacks:[]},this.disabled&&this.disable(),this.forcePattern)switch(this.forcePattern){case"slug":this.forceSpecial=!0;break;case"name":this.forceSpecial=!0;break;case"lower":this.forceSpecial=!0;break;case"upper":this.forceSpecial=!0;break;default:this.forcePattern&&(this.forcePattern=new RegExp(this.forcePattern))}l=Form.prototype.fieldProtos[this.type];for(a in l)r=l[a],"prepareConditional"===a?this.dependsOn&&(this[a]=r):this[a]=r;if(null!=i[this.type]){o=i[this.type];for(a in o)n=o[a],this[a]=n}return this.prepare(),this.dependsOn&&(this.required&&(this.requiredOriginally=!0),setTimeout(this.prepareConditional.bind(this),0)),this.conditionalValues&&setTimeout(this.prepareConditionalValues.bind(this),0),this},Form.prototype.Field=i,o={slug:/^[a-z0-9-]+$/,name:/^[a-z0-9_]+$/,lower:/^[a-z]+$/,upper:/^[A-Z]+$/},i.prototype={constructor:i,prepareConditional:function(){var t;return t=function(){switch(this.conditionScope){case"form":return this.form.form;case"step":return this.step.length?this.step:this.field.parents(".step").first();case"repeater":return this.field.parents(".fieldset").last();case"repeater-1":return this.field.parents(".fieldset").eq(1);case"repeater-2":return this.field.parents(".fieldset").eq(2);case"sibling":return this.field.parent();default:return this.form.form}}.call(this),this.masterField=t.find('[data-realname*="'+this.dependsOn+'"]').first(),this.masterInstance=this.masterField.data("Field"),null==this.masterInstance?console.log("Conditional field '"+this.name+"' has no matching master field.",this):this.masterInstance.subscribe(this,this.condition,this.comparison)},prepareConditionalValues:function(){var t,e,i,n,s;if("select"===this.type||"undefined"!=typeof SimplyBind&&null!==SimplyBind)return n=[],t=[],this.options=[],s={},e=this.input.children()[0].label,i=function(t){return function(e,i){var n,s;return s=i.value,e?t.options.includes(s)?void 0:t.options.push(s):(n=t.options.indexOf(s),t.options.splice(n,1))}}(this),this.input.children().each(function(t){return function(e,i){return 0!==e?(t.options.push(i.value),s[i.value]=i.label):void 0}}(this)),SimplyBind("options").of(this).to("prop:innerHTML").of(this.input).transform(function(t){return function(i){var n,r;return n=t.value,r="<option value=''>"+e+"</option>",i.sort(function(t,e){return""===t?-1:s[t]===s[e]?0:s[t]<s[e]?-1:1}),i.forEach(function(t){return r+="<option value='"+t+"'>"+s[t]+"</option>"}),setTimeout(function(){return t.input[0].value=n,t.input.trigger("change")},50),r}}(this)),this.conditionalValues.forEach(function(t){return function(e){var n,s,r,a,l;return s=!0,(r=t.input.children("option[value='"+e.value+"']")[0])?(n=function(){switch(e.conditionScope){case"form":return this.form.form;case"step":return this.step.length?this.step:this.field.parents(".step").first();case"repeater":return this.field.parents(".fieldset").last();case"repeater-1":return this.field.parents(".fieldset").eq(1);case"repeater-2":return this.field.parents(".fieldset").eq(2);case"sibling":return this.field.parent();default:return this.form.form}}.call(t),a=n.find('[data-realname*="'+e.depends_on+'"]').first(),l=a.data("Field"),null==l?console.log("Conditional value '"+t.name+" ("+e.value+")' has no matching master field.",t):l.subscribe(r,e.condition,e.comparison,i)):void 0}}(this))},showError:function(){return this.field.addClass("error")},hideError:function(){return this.field.removeClass("error")},checkOn:function(t){var e;return t.addClass("checked"),e=t.find(".input"),e.length&&(e[0].checked=!0),null!=this.type&&"radio"===this.type?this.checkOff(t.siblings()):void 0},checkOff:function(t){var e;return t.removeClass("checked"),e=t.find(".input"),e.length?e[0].checked=!1:void 0},makeValid:function(){return this.field.addClass("valid").removeClass("invalid error show_error_msg"),this.valid=!0},makeInvalid:function(t){var e;return e=t?"invalid error":"invalid",this.field.addClass(e).removeClass("valid"),this.valid=!1,this.errorMsg&&t?this.field.addClass("show_error_msg"):void 0},makeFilled:function(){return this.field.addClass("filled animate")},makeNotFilled:function(){return this.field.removeClass("filled animate")},makeRequired:function(){return this.requiredOriginally&&(this.required=!0),this.field.addClass("required"),-1!==this.form.fieldsRequired.indexOf(this)?this.form.fieldsRequired.push(this):void 0},makeNotRequired:function(){return this.required=!1,this.field.removeClass("required"),-1!==this.form.fieldsRequired.indexOf(this)?this.form.fieldsRequired.splice(this.form.fieldsRequired.indexOf(this),1):void 0},reveal:function(){return this.field.addClass("reveal_dependant").trigger("reveal_dependant"),this.makeRequired(),this.enable(),this.revealed=!0},unreveal:function(){return this.field.removeClass("reveal_dependant").trigger("hide_dependant"),this.makeNotRequired(),this.disable(),this.revealed=!1},subscribe:function(t,e,i,n){return null==e&&(e="*"),null==i&&(i="="),t?(null==this.conditionalDeps[i]?(this.conditionalDeps[i]={},this.conditionalDeps[i][e]=[t]):null==this.conditionalDeps[i][e]?this.conditionalDeps[i][e]=[t]:this.conditionalDeps[i][e].includes(t)||this.conditionalDeps[i][e].push(t),n&&(this.conditionalDeps.cbs.deps.includes(t)||(this.conditionalDeps.cbs.deps.push(t),this.conditionalDeps.cbs.callbacks.push(n))),this.updateDeps()):void 0},updateDeps:function(){var e;if(util.objectLength(this.conditionalDeps)>=1)return clearTimeout(this.depsUpdateTimeout),e=this.test(),this.depsUpdateTimeout=setTimeout(function(n){return function(){var s,a,l,o,h,u,d,c,f;c=n.conditionalDeps,f=[];for(l in c)a=c[l],"cbs"!==l?f.push(function(){var n;n=[];for(o in a)u=a[o],s=!1,o.constructor!==RegExp&&"/"!==o[0]||("/"===o[0]&&(o=new RegExp(o)),Array.isArray(this.value)?(d=!1,this.value.forEach(function(t){return function(t){return d?void 0:s=o.test(t)}}(this)),s=d):s=o.test(this.value)),"*"===o?s=e:(h=o.split(/,\s?/),h.forEach(function(t){return function(e){return s?void 0:s=Array.isArray(t.value)?t.value.includes(e):t.value===e}}(this))),"!="===l&&(s=!s),n.push(u.forEach(function(e){return function(n){var a,l;return n.constructor===i&&(s?n.reveal():n.unreveal(),"1-1"!==n.data.width&&(l=[],n.field.parent().children(".fieldset").each(function(){var e;return e=t(this).data("Field"),!e||e.dependsOn&&!e.revealed?void 0:l.push(e)}),setTimeout(function(){return l.length?r(l):void 0},50))),e.conditionalDeps.cbs.deps.includes(n)?(a=e.conditionalDeps.cbs.deps.indexOf(n),e.conditionalDeps.cbs.callbacks[a](s,n)):void 0}}(this)));return n}.call(n)):f.push(void 0);return f}}(this),75)}},n={prepare:{input:function(){return this.input.on("change "+h+" blur",function(t){return function(){return t.field.trigger("value_changed")}}(this)),this.form.options.preserveValuesAfterRefresh?this.value=this.input[0].value.replace(util.regEx.whiteSpace,""):this["default"]||(this.value=""),this.input.val(this.value),this.value&&this.makeFilled(),this.attachState(),null!=this.height&&this.input.css("height",this.height),this.desc&&this.field.addClass("has_desc"),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid()},button:function(){var e,i,n;return i=this,this.input=this.field.find(".input-button"),this.input.on("click",function(e){return function(i){return e.field.trigger("value_changed",t(i.currentTarget))}}(this)),this.form.options.preserveValuesAfterRefresh?(e=this.field.find("[checked]"),0===e.length&&(e=this.field.find(":checked")),"radio"===this.type?e.each(function(e){return function(i,n){return e.value=n.value,e.checkOn(t(n).parents(".input-button"))}}(this)):"checkbox_single"===this.type?(this.value=!!e,this.value&&this.checkOn(this.input)):(n=[],e.each(function(e){return function(i,s){return n.push(s.value),e.checkOn(t(s).parents(".input-button"))}}(this)),this.value=n)):this["default"]?(n=this.value.split(/,\s?/),n.length&&this.input.each(function(e){return function(i,s){return n.includes(t(s).find(".input").value)?e.checkOn(t(s)):e.checkOff(t(s))}}(this))):(this.value="radio"===this.type?null:"checkbox_single"===this.type?!1:[],this.input.each(function(e){return function(i,n){return e.checkOff(t(n))}}(this))),"radio"===this.type||"checkbox_single"===this.type?this.value&&this.makeFilled():this.value.length&&this.makeFilled(),null!=this.height&&this.input.css("height",this.height),this.desc&&this.field.addClass("has_desc"),this.attachState(),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid()}},attachValidation:{input:function(){return this.field.on("value_changed",function(t){return function(){return t.test()?t.makeValid():t.makeInvalid(),t.form.form.trigger("field_filled")}}(this))},button:function(){return this.field.on("value_changed",function(e){return function(i,n){return n.constructor!==jQuery&&(n=t(n)),n.hasClass("checked")?n.siblings().hasClass("checked")?e.makeValid():e.makeInvalid():e.makeValid(),e.form.form.trigger("field_filled")}}(this))}},attachState:{input:function(){return this.input.on("focus",function(t){return function(){return t.field.addClass("focus"),t.form.options.submitOnEnter&&"textarea"!==t.type?e.on("keypress.field_focused",function(e){return 13===e.which?t.form.form.trigger("submit_current_step"):void 0}):void 0}}(this)),this.input.on("blur",function(t){return function(){return t.field.removeClass("focus"),t.form.options.submitOnEnter&&"textarea"!==t.type?e.off("keypress.field_focused"):void 0}}(this)),this.forcePattern&&this.forceSpecial&&this.input.on("change",function(t){return function(e){var i;if(i=t.input[0].value,!o[t.forcePattern].test(i))switch(t.forcePattern){case"slug":i=i.replace(/\s/g,"-").toLowerCase();break;case"name":i=i.replace(/\s/g,"_").toLowerCase();break;case"lower":i=i.toLowerCase();break;case"upper":i=i.toUpperCase()}return t.input[0].value=i,t.value=i}}(this)),this.maximum&&this.input.on("keypress",function(t){return function(e){var i;return(null!=(i=t.input[0].value)?i.length:void 0)>t.maximum?(e.preventDefault(),t.field.addClass("has_warning").attr("data-warning","Maximum characters allowed is "+t.maximum),setTimeout(function(){return this.field.removeClass("has_warning")},2e3)):void 0}}(this)),this.field.on("value_changed",function(t){return function(){return t.value=t.input[0].value,t.value?t.makeFilled():t.makeNotFilled(),t.updateDeps()}}(this))},button:function(){return this.field.on("value_changed",function(e){return function(i,n){var s;return n?(n.constructor!==jQuery&&(n=t(n)),s=n.find("input").val(),n.hasClass("checked")?(e.checkOff(n),"checkbox_single"===e.type?e.value=!1:e.value.splice(e.value.indexOf(s),1)):(e.checkOn(n),"checkbox_single"===e.type?e.value=!0:e.value.push(s)),e.value.length?e.makeFilled():e.makeNotFilled(),e.updateDeps()):void 0}}(this)),this.field.find("label").on("click",function(e){return e.preventDefault(),t(this).parents(".input-button").trigger("click")})}},detach:{input:function(){return this.field.off(),this.input.off()},button:function(){return this.field.off(),this.input.off(),this.input.find("label").off()}},disable:{input:function(){return this.input.prop("disabled",!0),this.disabled=!0},button:function(){return this.disabled=!0}},enable:{input:function(){return this.input.prop("disabled",!1),this.disabled=!1},button:function(){return this.disabled=!1}},fetchValue:{input:function(){return this.value&&"boolean"!=typeof this.value?"true"===this.value.toLowerCase()?!0:"false"===this.value.toUpperCase()?!1:this.value:this.value},button:function(){return!this.value||"boolean"==typeof this.value||"object"==typeof this.value&&this.value.constructor===Array?this.value:"true"===this.value.toLowerCase()?!0:"false"===this.value.toUpperCase()?!1:this.value}},setValue:{input:function(t){return null!=t&&(this.value=t),this.input[0].value=t,t&&(this.makeFilled(),this.test()?this.makeValid():this.makeInvalid()),this.input.trigger("change")},button:function(t){return"checkbox_single"===this.type?t?(this.value=!0,this.checkOn(this.input),this.makeFilled(),this.makeValid()):(this.value=!1,this.checkOff(this.input)):(Array.isArray(t)||(t=[t]),this.value=t,t.forEach(function(t){return function(e){var i,n;return n=t.field.find("input[value='"+e+"']"),n.length?(i=n.parents(".input-button").first(),checkOn(i)):t.value.splice(t.value.indexOf(e),1)}}(this)),this.value.length&&(this.makeFilled(),this.test())?this.makeValid():void 0)}},empty:{input:function(){return this.field.removeClass("filled valid error blur focus"),this.value="",this.input.val(this.value)},button:function(){return this.field.removeClass("filled valid error blur focus"),this.value="radio"===this.type?"":"checkbox_single"===this.type?!1:[],this.input.filter(function(){return t(this).hasClass("checked")}).each(function(e){return function(i,n){return e.checkOff(t(n))}}(this))}},test:{input:function(){var t,e,i;return t="boolean"==typeof this.input[0].value?this.input[0].value:null!=(i=this.input[0].value)?i.replace(util.regEx.whiteSpace,""):void 0,e=this.pattern?this.pattern.test(t):t,this.value!==t&&(this.value=t),this.disabledForever&&(e=!0),!!e},button:function(){return this.field.find("[checked]").length?!0:this.field.find(":checked").length?!0:"radio"===this.type&&null!=this.value}}},Form.prototype.fieldProtos={text:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.input,setValue:n.setValue.input,empty:n.empty.input,test:n.test.input},full_name:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.input,test:function(){var t,e,i;return t=null!=(i=this.input[0].value)?i.replace(util.regEx.whiteSpace,""):void 0,this.value!==t&&(this.value=t),this.disabledForever&&(e=!0),""!==t&&util.regEx.fullName.test(t)}},password:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.input,test:function(){var t,e,i,n,s;return e=null!=(s=this.input[0].value)?s.replace(util.regEx.whiteSpace,""):void 0,i=e,this.value!==e&&(this.value=e),this.name.includes("password_confirm")&&(t=this.form.form.find(".fieldset.fieldtype_password"),n=t.find("input").val(),i=e===n),i}},email:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.input,test:function(){var t,e,i;return t=null!=(i=this.input[0].value)?i.replace(util.regEx.whiteSpace,""):void 0,this.value!==t&&(this.value=t),this.disabledForever&&(e=!0),t&&util.regEx.email.test(t)}},tel:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.input,test:function(){var t,e,i;return t=null!=(i=this.input[0].value)?i.replace(util.regEx.whiteSpace,""):void 0,this.value!==t&&(this.value=t),this.disabledForever&&(e=!0),t&&t.length>=7&&util.regEx.phone.test(t)}},textarea:{prepare:n.prepare.input,attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.input,setValue:n.setValue.input,empty:n.empty.input,test:n.test.input},select:{prepare:function(){var t,e;return this.form.options.preserveValuesAfterRefresh?this.value=this.input[0].value:this["default"]||(this.value=""),this.input.val(this.value),this.value&&this.makeFilled(),this.input.on("change keypress blur",function(t){return function(){return t.field.trigger("value_changed")}}(this)),null!=this.height&&this.input.css("height",this.height),this.attachState(),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid(),this.label=this.field.children("label").html(),t=this.input.next(),e=function(e){return function(){var i,n,s;return i=(null!=(n=e.input.children("option[selected]")[0])?n.innerHTML:void 0)||(null!=(s=e.input.children("option:selected")[0])?s.innerHTML:void 0),t.html(i||e.value||e.label)}}(this),e(),this.input.on("change keyup blur",function(t){return function(){return t.input.children(":selected").attr("selected","").siblings().removeAttr("selected"),e()}}(this))},attachValidation:n.attachValidation.input,attachState:n.attachState.input,detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:n.fetchValue.input,setValue:n.setValue.input,empty:n.empty.input,test:n.test.input},file:{prepare:function(){return this.input.on("change "+h+" blur",function(t){return function(){return t.field.trigger("value_changed")}}(this)),this.preview=this.field.find(".file-preview"),this.value=this["default"]||null,this.base64=this.value,this.value&&this.makeFilled(),this.attachState(),this.input.trigger("change"),null!=this.height&&this.input.css("height",this.height),this.desc&&this.field.addClass("has_desc"),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid()},attachValidation:n.attachValidation.input,attachState:function(){return this.field.add(this.input).on("value_changed change",function(t){return function(){var e;return t.value=t.input[0].value,t.value?t.makeFilled():t.makeNotFilled(),t.updateDeps(),(e=t.input[0].files[0])?t.checkDimensions(e).then(function(){var i;return i=new FileReader,i.onload=function(){return t.base64=i.result,t.preview.length&&t.base64?t.preview.addClass("show").html('<img src="'+t.base64+'">'):void 0},e?i.readAsDataURL(e):void 0},function(e){return"max"===e?alert("Image too large! Maximum allowed dimensions are "+t.maximum.width+"x"+t.maximum.height):alert("Image too small! Minimum dimensions are "+t.minimum.width+"x"+t.minimum.height)}):void 0}}(this))},detach:n.detach.input,disable:n.disable.input,enable:n.enable.input,fetchValue:function(t){return t?null:this.base64},setValue:function(t){return t&&(this.base64=t),this.preview.length?this.preview.addClass("show").html('<img src="'+this.base64+'">'):void 0},empty:n.empty.input,test:n.test.input,checkDimensions:function(t){return t?new Promise(function(e){return function(i,n){var s;return e.minimum||e.maximum||i(),s=new Image,s.src=URL.createObjectURL(t),s.onload=function(){var t;return e.maximum&&(e.maximum.constructor===String&&(t=e.maximum.split("x"),1===t.length&&(t[1]=t[0]),e.maximum={width:t[0],height:t[1]}),e.maximum.constructor===Number&&(e.maximum={width:e.maximum,height:e.maximum}),s.width>e.maximum.width||s.height>e.maximum.height?n("max"):null==e.minimum&&i()),e.minimum?(e.minimum.constructor===String&&(t=e.minimum.split("x"),1===t.length&&(t[1]=t[0]),e.minimum={width:t[0],height:t[1]}),e.minimum.constructor===Number&&(e.minimum={width:e.minimum,height:e.minimum}),s.width<e.minimum.width||s.height<e.minimum.height?n("min"):i()):void 0}}}(this)):void 0}},radio:{prepare:n.prepare.button,attachValidation:function(){return this.field.on("value_changed",function(t){return function(){return t.makeValid(),t.form.form.trigger("field_filled")}}(this))},attachState:function(){return this.field.on("value_changed",function(e){return function(i,n){var s;return n.constructor!==jQuery&&(n=t(n)),s=n.find("input").val(),null!=s&&(e.value=s),e.checkOn(n),e.makeFilled(),e.updateDeps()}}(this)),this.field.find("label").on("click",function(e){return e.preventDefault(),t(this).parents(".input-button").trigger("click")})},detach:n.detach.button,disable:n.disable.button,enable:n.enable.button,fetchValue:n.fetchValue.button,setValue:function(t){var e,i;return i=this.field.find("input[value='"+t+"']"),i.length&&(this.value=t,e=i.parents(".input-button").first(),this.checkOn(e),this.makeFilled(),this.test())?this.makeValid():void 0},empty:n.empty.button,test:n.test.button},radio_hybrid:{prepare:n.prepare.button,attachValidation:n.attachValidation.button,attachState:n.attachState.button,detach:n.detach.button,disable:n.disable.button,enable:n.enable.button,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.button,test:n.test.button},checkbox:{prepare:n.prepare.button,attachValidation:n.attachValidation.button,attachState:n.attachState.button,detach:n.detach.button,disable:n.disable.button,enable:n.enable.button,fetchValue:n.fetchValue.button,setValue:n.setValue.button,empty:n.empty.button,test:n.test.button},checkbox_single:{prepare:n.prepare.button,attachValidation:n.attachValidation.button,attachState:n.attachState.button,detach:n.detach.button,disable:n.disable.button,enable:n.enable.button,fetchValue:n.fetchValue.input,setValue:n.setValue.button,empty:n.empty.input,test:n.test.button},group:{prepare:function(){return this.toggle=this.field.children(".group-toggle"),this.container=this.field.children(".group-container"),this.fieldsets=this.container.children(".fieldset"),this.fields=[],this.fieldsRequired=[],this.fieldsets.each(function(e){return function(n,s){var r;return r=new i(t(s),e.form),e.fields.push(r),r.required&&e.fieldsRequired.push(r),r.insideGroup=!0}}(this)),this.collapsed&&this.toggle.length&&(this.field.addClass("collapsed"),0===this.container[0].offsetHeight&&(this.container[0].style.display="none")),this.attachState(),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid(),r(this.fields)},attachValidation:function(){var t,e,i,n,s;for(n=this.fieldsRequired,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(t.field.on("value_changed.for_group",function(t){return function(){return t.test()?t.makeValid():t.makeInvalid()}}(this)));return s},attachState:function(){return this.toggle.length?this.toggle.on("click",function(t){return function(){return t.collapsed?(t.field.removeClass("collapsed"),t.form.options.heightToggleAnimation?t.container.slideDown(300):t.container.css("display","block")):(t.field.addClass("collapsed"),t.form.options.heightToggleAnimation?t.container.slideUp(300):t.container.css("display","none")),t.collapsed=!t.collapsed}}(this)):void 0},detach:function(){return this.fields.forEach(function(t){return t.detach()}),this.toggle.off()},disable:function(){return this.disabled=!0,this.fields.forEach(function(t){return t.disable()})},enable:function(){return this.disabled=!1,this.fields.forEach(function(t){return t.enable()})},fetchValue:function(t){var e,i,n,s,r,a;for(a=t?[]:{},r=this.fields,n=0,s=r.length;s>n;n++)e=r[n],t?(i={},i[e.name]=e.fetchValue(),a.push(i)):a[e.name]=e.fetchValue();return a},setValue:function(e){return!e||e.constructor!==Object&&e.constructor!==Array?void 0:e.constructor===Array?e.forEach(function(t){return function(e,i){return t.fieldsets.eq(i).data("Field").setValue(e)}}(this)):e.constructor===Object?this.fieldsets.each(function(){var i,n;return i=t(this).data("Field"),n=e[i.name],null!=n&&i?i.setValue(n):void 0}):this.fieldsets.first().data("Field").setValue(e)},empty:function(){return this.fields.forEach(function(t){return t.empty()})},test:function(t,e){var i,n,s;return n=!1,i=[],s=t,this.fieldsRequired=this.fields.filter(function(t){return t.required}),this.fieldsRequired.forEach(function(r){return function(r){var a,l;return l=r.field.hasClass("validate_by_class"),r.field.hasClass("dont-error")&&(t=!1),a=l?r.field.hasClass("valid"):r.test(s,e),a?r.hideError():(t&&r.showError(),n=!0,i.push(r))}}(this)),e&&console.log(i),n?(t&&this.showError(),!1):(this.hideError(),!0)}},repeater:{prepare:function(){return this.toggle=this.field.children(".repeater-toggle"),this.container=this.field.children(".repeater-container"),this.placeholder=this.container.children(".repeater-placeholder"),this.button=this.container.children(".repeater-button"),this.repeaterItemsContainer=this.container.children(".repeater-items"),this.repeaterTemplate={html:this.container.children(".repeater-template").html(),el:this.container.children(".repeater-template").children()},this.collectFields(!0),this.collapsed&&this.toggle.length&&(this.field.addClass("collapsed"),0===this.container[0].offsetHeight&&(this.container[0].style.display="none")),this.attachState(),this.required?(this.attachValidation(),this.test()?this.makeValid():this.makeInvalid()):this.makeValid(),0===this.repeaterItems.length?this.hideButton():this.showButton(),r(this.fields)},collectFields:function(e){return this.repeaterItems=[],this.repeaterItemsContainer.children(".repeater-item").each(function(t){return function(e,i){return t.repeaterItems.push(i)}}(this)),this.repeaterIndex=this.repeaterItems.length,this.fields=[],this.repeaterItems.forEach(function(n){return function(s){var r;return r=t(s).children(".repeater-item-fields").children(".dynamic_block").children(".fieldset"),t(s).children(".repeater-item-fields").children(".fieldset").add(r).each(function(s,r){var a;return a=e?new i(t(r),n.form):t(r).data("Field"),n.fields.push(a),a.insideRepeater=!0})}}(this)),this.fieldsRequired=this.fields.filter(function(t){return t.required})},attachValidation:function(){var t,e,i,n,s;for(n=this.fieldsRequired,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(t.field.on("value_changed.for_repeater",function(t){return function(){return t.test()?t.makeValid():t.makeInvalid()}}(this)));return s},attachState:function(){return this.repeaterTemplate.el.find(".input").prop("disabled",!0),this.repeaterIndex&&this.field.addClass("has_fields"),this.field.on("click",".repeater-delete",function(e){return function(i){var n,s;return n=t(i.target),n.parents(".repeater-container").first()[0]===e.container[0]&&(e.repeaterItems.length!==e.minimum&&(s=n.parents(".repeater-item").first(),e["delete"](s),0===e.repeaterIndex&&e.field.removeClass("has_fields"),e.repeaterItems.length>=e.maximum||e.enableButton()),0===e.repeaterItems.length)?e.hideButton():void 0}}(this)),this.field.on("click",".repeater-clone",function(e){return function(i){var n,s;return n=t(i.target),n.parents(".repeater-container").first()[0]===e.container[0]?e.repeaterItems.length>=e.maximum?e.disableButton():(s=n.parents(".repeater-item").first(),e.clone(s)):void 0}}(this)),this.button.add(this.placeholder).on("click",function(t){return function(){return t.showButton(),t.repeaterItems.length>=t.maximum?t.disableButton():(t.add(),t.field.addClass("has_fields"))}}(this)),this.toggle.length?this.toggle.on("click",function(t){return function(){return t.collapsed?(t.field.removeClass("collapsed"),t.form.options.heightToggleAnimation?t.container.slideDown(300):t.container.css("display","block")):(t.field.addClass("collapsed"),t.form.options.heightToggleAnimation?t.container.slideUp(300):t.container.css("display","none")),t.collapsed=!t.collapsed}}(this)):void 0},detach:function(){return this.fields.forEach(function(t){return t.detach()}),this.button.off(),this.placeholder.off(),this.toggle.off(),this.field.find(".repeater-delete").off(),this.field.find(".repeater-clone").off()},disable:function(){return this.disabled=!0,this.fields.forEach(function(t){return t.disable()})},enable:function(){return this.disabled=!1,this.fields.forEach(function(t){return t.enable()})},fetchValue:function(){var e,i,n,s,r,a,l,o;for(o=[],r=this.repeaterItems,l=n=0,s=r.length;s>n;l=++n)a=r[l],i=t(a),"repeater"===this.type?i.find(".fieldset").each(function(){var e;return e=t(this).data("Field"),o.push(e.fetchValue())}):(o[l]={},e=i.children(".repeater-item-fields").children(".dynamic_block").children(".fieldset"),i.children(".repeater-item-fields").children(".fieldset").add(e).each(function(){var e,i;return e=t(this).data("Field"),i=e.name,i=i.replace("[]",""),o[l][i]=e.fetchValue()}));return o},setValue:function(e){return e?("repeater_group"!==this.type||Array.isArray(e)||(e=[e]),e.forEach(function(e){return function(i,n){var s,r;if("repeater_group"!==e.type||i.constructor===Object||i.constructor===Array)return n>=e.repeaterItems.length&&e.add(),s=t(e.repeaterItems[n]).children(".repeater-item-fields").children(".dynamic_block").children(".fieldset"),r=t(e.repeaterItems[n]).children(".repeater-item-fields").children(".fieldset").add(s),i.constructor===Array?i.forEach(function(t,e){return r.eq(e).data("Field").setValue(t)}):i.constructor===Object?r.each(function(){var e,n,s;return e=t(this).data("Field"),n=e.name,s=i[n],null!=s&&e?e.setValue(s):void 0}):r.first().data("Field").setValue(i)}}(this)),this.repeaterIndex?(this.showButton(),this.field.addClass("has_fields")):void 0):void 0},empty:function(){return this.fields.forEach(function(t){return t.empty()})},test:function(t,e){var i,n,s;return n=!1,
i=[],s=t,this.fieldsRequired=this.fields.filter(function(t){return t.required}),this.fieldsRequired.forEach(function(r){return function(r){var a,l;return l=r.field.hasClass("validate_by_class"),r.field.hasClass("dont-error")&&(t=!1),a=l?r.field.hasClass("valid"):r.test(s,e),a?r.hideError():(t&&r.showError(),n=!0,i.push(r))}}(this)),e&&console.log(i),n?(t&&this.showError(),!1):(this.hideError(),!0)},add:function(){var e,i;return this.repeaterIndex++,e=t(document.createElement("div")),i=this.repeaterTemplate.html.replace(/xyz/g,function(t){return function(){return t.repeaterIndex}}(this)),e.html(i),e.find(".disabled_forever").removeClass("disabled_forever").data("disabled_forever",!1),e.children().children(".repeater-item-fields").children(".fieldset").each(function(e){return function(i,n){return e.addChildField(t(n))}}(this)),this.repeaterItems.push(e[0].children[0]),this.repeaterItemsContainer.append(e[0].children[0]),this.step.trigger("height_changed")},"delete":function(e){var i,n,s,r;return this.repeaterIndex--,i=e.children(".repeater-item-fields").children(".dynamic_block").children(".fieldset"),n=e.children(".repeater-item-fields").children(".fieldset").add(i),r=e.index(),s=t(this.repeaterItems[this.repeaterItems.length-1]).index(),this.repeaterItems.splice(this.repeaterItems.indexOf(e[0]),1),n.each(function(e){return function(i,n){return e.removeChildField(t(n))}}(this)),e.addClass("delete-started").animate({height:0,opacity:0},350,"swing",function(){return e.remove()}),s>r&&this.repeaterItems.forEach(function(e){return function(i,n){return t(i).index()>=r?e.resetIndex(t(i),!0):void 0}}(this)),setTimeout(function(t){return function(){return t.step.trigger("height_changed")}}(this),400)},clone:function(e){var i,n,s,r;return this.repeaterIndex++,r=e.index(),s=t(this.repeaterItems[this.repeaterItems.length-1]).index(),i=util.cloneSafe(e,!0),n=i.children(".repeater-item-fields").children(".dynamic_block").children(".fieldset"),i.insertAfter(e),this.repeaterItems.splice(this.repeaterItems.indexOf(e)+2,0,i[0]),i.children(".repeater-item-fields").children(".fieldset").add(n).each(function(e){return function(i,n){return e.addChildField(t(n))}}(this)),s>r?this.repeaterItems.forEach(function(e){return function(i){return t(i).index()>=r?e.resetIndex(t(i)):void 0}}(this)):this.resetIndex(i,!1),this.step.trigger("height_changed")},resetIndex:function(e,i){var n,s,r,a;return null==i&&(i=!1),a=i?e.index()+1:e.index(),r=i?a-1:a+1,n=e.children(".repeater-item-fields").children(".fieldset"),s=e.children(".repeater-item-title"),s.length&&s.html(s.html().replace(/\d$/,r)),n.each(function(){var e,i,n,s,l;return e=t(this),n=e.children("label"),i=e.children("input"),0===n.length&&(n=e.children(".input-button").children("label")),0===i.length&&(i=e.children(".input-button").children("input")),s=e.data("id"),l=s.replace("_"+a+"_","_"+r+"_"),e.data("id",l),n.each(function(){var e,i,n;return e=t(this),i=e.attr("for"),n=i.replace(s,l),e.attr("for",n)}),i.each(function(){var e;return e=t(this),s=e.attr("id"),l=s.replace(s,l),e.attr("id",l)})})},enableButton:function(){return this.button.removeClass("disabled")},disableButton:function(){return this.button.addClass("disabled")},showButton:function(){return this.button.addClass("show"),this.placeholder.removeClass("show")},hideButton:function(){return this.button.removeClass("show"),this.placeholder.addClass("show")},addChildField:function(t){var e;return e=new i(t,this.form),e.enable(),this.fields.push(e),e.required?(this.fieldsRequired.push(e),e.field.on("value_changed.for_repeater",function(t){return function(){return t.test()?t.makeValid():t.makeInvalid()}}(this))):void 0},removeChildField:function(t){var e,n;return t.constructor===i?(n=t,e=n.field):(n=t.data("Field"),e=t),this.fields.splice(this.fields.indexOf(n),1),this.fieldsRequired.includes(n)&&this.fieldsRequired.splice(this.fieldsRequired.indexOf(n),1),n.detach()}}},Form.prototype.fieldProtos.repeater_group=Form.prototype.fieldProtos.repeater,l=function(t){var e,i;return e=t.includes("/")?"/":"-",i=t.split(e),parseFloat(i[0])/parseFloat(i[1])},r=function(t){var e,i;return i=0,e=function(t){return i+=l(t),i>=1?(i=0,!0):!1},t.forEach(function(t){var n;return 0===t.field.index()&&(i=0),n=t.field.data("width"),e(n)?t.field.addClass("is_last"):t.field.removeClass("is_last")})},Form.prototype.Prepare=function(e){var i;return 0===this.form.find(".step").length&&(i=this.form[0].className.split(" ")[1],this.form.wrapInner('<div class="'+i+' step show"></div>')),e&&(this.form.find(".step").each(function(e){return function(i,n){var s,r,a;return e.fieldsInSteps.push([]),a=e.fieldsInSteps.length-1,r=t(n),s=r.children(".fieldset"),0===s.length&&(s=r.find(".step-innerwrap").children(".fieldset")),s.each(function(i,n){return e.addField(t(n),a)})}}(this)),this.form.find(".step").first().addClass("show"),this.setCurrentStepTo("visible")),this.disableFields(this.form),this.enableFields(this.step.current),this.attachFormEvents(),this.attachButtonEvents(),this.attachExtraEvents(),this.options.callbackOnPrepare(this)},Form.prototype.AddStep=function(e){var i,n;return this.fieldsInSteps.push([]),n=this.fieldsInSteps.length-1,i=e.children(".fieldset"),0===i.length&&(i=e.find(".step-innerwrap").children(".fieldset")),i.each(function(e){return function(i,s){return e.addField(t(s),n)}}(this)),this.multiStep=!0},Form.prototype.RemoveStep=function(t){var e;return null==this.fieldsInSteps[t]?"Specified index wasn't found.":(e=this.fieldsInSteps[t],e.forEach(function(t){return function(e){return t.fields.splice(t.fields.indexOf(e),1),e.required?t.fieldsRequired.splice(t.fieldsRequired.indexOf(e),1):void 0}}(this)),this.fieldsInSteps.splice(t,1))},Form.prototype.Reset=function(t){return null==t&&(t=!0),t?(this.form.find(".step.show, .results.show").removeClass("show").end().find(".step").first().addClass("show"),this.setCurrentStepTo("visible")):void 0},Form.prototype.ReInit=function(t,e){return null==t&&(t=!0),e&&this.Reset(),this.form.off().find(".step").off().end().find(".next, .back, .submit").off(),this.fields.forEach(function(t){return t.empty()}),t?this.Prepare():void 0},Form.prototype.Restart=Form.prototype.ReInit,Form.prototype.Validate=function(t,e,i){var n,s,r,a,l,o;if(null==t&&(t=!0),a=!1,n=[],r=0,this.skippedAStep||!this.multiStep)s=this.fieldsRequired;else{if(o=this.step.current.index()-this.stepIndexOffset,l=this.fieldsInSteps[o],!l)return!0;s=this.fieldsInSteps[o].filter(function(t){return t.required})}return s.forEach(function(e){return function(s){var l,o,h;return h=s.field.hasClass("validate_by_class"),o=t,s.field.hasClass("dont-error")&&(t=!1),l=h?s.field.hasClass("valid"):s.test(o,i),l?s.hideError():(i&&n.push(s),t&&s.showError(),a=!0,r++,e.skippedAStep&&1===r&&s.step[0]!==e.step.current[0]?(e.revealSection(s.step),e.setCurrentStepTo(s.step)):void 0)}}(this)),i&&console.log(n,s),this.options.callbackOnValidate(this),a?(this.step.current.trigger("notvalid"),!1):(this.step.current.trigger("valid"),!0)},Form.prototype.attachFormEvents=function(){return this.form.on("submit",function(t){return t.preventDefault()}),this.form.on("submit_current_step",util.debounce(function(t){return function(){var e;if(!t.step.current.hasClass("results"))return e=t.step.current.find(".next"),e=e.length?e:t.step.current.find(".submit"),e.length?e.trigger("click"):t.Next()}}(this),100)),this.options.validateOnTyping?this.form.on("field_filled",function(t){return function(){var e;return e=t.Validate(!1),e?(t.step.current.addClass("step_filled"),t.form.addClass("form_filled").trigger("form_filled")):(t.form.removeClass("form_filled"),t.step.current.removeClass("step_filled"))}}(this)):void 0},Form.prototype.attachButtonEvents=function(){return this.form.find(".next").on("click",function(t){return function(){return t.Next()}}(this)),this.form.find(".back").on("click",function(t){return function(){return t.Back()}}(this)),this.form.find(".submit").on("click",function(t){return function(){return t.Submit()}}(this)),this.form.find(".next, .submit").on("focusin",function(){var i;return i=t(this),e.on("keypress.button_focused",function(t){var e,n,s;return s=9===t.which,e=13===t.which,n=" "===t.which||32===t.which,s&&i.trigger("focusout"),e||n?i.trigger("focusout").trigger("click"):void 0})}),this.form.find(".next, .submit").on("focusout",function(){return e.off("keypress.button_focused")})},Form.prototype.attachExtraEvents=function(){return this.form.find(".step_toggle").on("click",function(e){return function(i){var n;return n=t(i.target).parents(".step").first(),e.revealSection(n),e.setCurrentStepTo(n),e.skippedAStep=!0}}(this))},Form.prototype.Next=function(){return this.disabled?void 0:(this.options.customNext?this.options.customNext():this.Validate()?(this.revealSection(this.step.next),this.setCurrentStepTo("next")):this.focusOnFirstErrorField(),this.options.callbackOnNextStep(this))},Form.prototype.Back=function(){return this.disabled?void 0:(this.options.customPrev?this.options.customPrev():(this.revealSection(this.step.prev),this.setCurrentStepTo("prev")),this.options.callbackOnBackStep(this))},Form.prototype.Submit=function(){var e;if(!this.disabled){if(!this.Validate())return this.focusOnFirstErrorField();if(this.options.customSubmit)return this.options.customSubmit();if(this.form.addClass("loading final"),this.action||this.options.forceAjaxSubmit)return e=this.fetchValues(),this.action&&(e.action=this.action),e.url||(e.url=window.location.href),e.referrer||(e.referrer=document.referrer),this.options.hasLoadingStep&&(this.resultsPlaceholder.length&&this.resultsPlaceholder.html(a.loading).addClass("show"),this.revealSection(this.resultsPlaceholder),this.setCurrentStepTo(this.resultsPlaceholder)),t.post(this.options.submitUrl,e,function(t){return function(e){var i;return e?(i=e.success===!0?"success":"error",t.options.callbackOnResults(e,t),t.form.trigger("submitted").removeClass("loading"),t.resultsPlaceholder.length&&e.message?t.resultsPlaceholder.html('<div class="results-message '+i+'">'+e.message+"</div>").addClass("show"):void 0):t.showGeneralErrorMessage()}}(this),"JSON").fail(function(t){return function(){return t.showGeneralErrorMessage()}}(this))}},Form.prototype.addField=function(t,e){var n,s;return s=new i(t,this),null==e&&(n=t.parents(".step").first(),n.length&&(e=n.index()-this.stepIndexOffset)),null!=e&&this.fieldsInSteps[e].push(s),this.fields.push(s),s.required&&this.fieldsRequired.push(s),this.fieldsByName[s.name]=s},Form.prototype.fetchValues=function(){var t;return this.options.uniqueSteps?(t=[],this.fieldsInSteps.forEach(function(e,i){var n;return n={},e.forEach(function(t){return!t.dependsOn||t.revealed?n[t.name]=t.fetchValue():void 0}),t.push(n)})):(t={},this.fields.forEach(function(e){return!e.dependsOn||e.revealed?t[e.name]=e.fetchValue():void 0}),this.form.find('input[type="hidden"]').each(function(){return t[this.name]=this.value})),t},Form.prototype.disable=function(){return this.disabled=!0,this.form.addClass("disabled"),this.disableFields(this.form)},Form.prototype.enable=function(){return this.disabled=!1,this.form.removeClass("disabled"),this.enableFields(this.form)},Form.prototype.disableFields=function(e){return this.options.dontDisableFields?void 0:e!==this.form&&this.multiStep?e.each(function(e){return function(i,n){var s;return s=t(n).index()-e.stepIndexOffset,e.fieldsInSteps[s]?e.fieldsInSteps[s].forEach(function(t){return t.disable()}):void 0}}(this)):this.fields.forEach(function(t){return t.disable()})},Form.prototype.enableFields=function(e){return e!==this.form&&this.multiStep?e.each(function(e){return function(i,n){var s;return s=t(n).index()-e.stepIndexOffset,e.fieldsInSteps[s]?e.fieldsInSteps[s].forEach(function(t){return t.enable()}):void 0}}(this)):this.fields.forEach(function(t){return t.enable()})},Form.prototype.setCurrentStepTo=function(t){var e,i,n,s;switch(null==t&&(t="visible"),e=this.step.current,n=this.step.prev,i=this.step.next,t){case"next":this.step={current:i,prev:e,next:i.next()};break;case"prev":this.step={current:n,prev:n.prev(),next:e};break;case"visible":s=this.form.find(".step.show"),this.step={current:s,prev:s.prev(),next:s.next()};break;default:this.step={current:t,prev:t.prev(),next:t.next()}}},Form.prototype.revealSection=function(t){this.options.customTransition?this.options.customTransition(t,this):(this.enableFields(t),this.disableFields(t.siblings(".step")),t.addClass("show").siblings(".show").removeClass("show"),Form.utils.scrollTo(t),this.options.heightTransitions&&Form.utils.setSectionHeight(t,!0))},Form.prototype.manageStepHeight=function(i){var n;return null==i&&(i=39),n=this.form.find(".step"),Form.utils.saveSectionHeights(n),n.first().addClass("show").each(function(){return t(this).height(t(this).data("height"))}).siblings(".step").height(i),n.on("height_changed",function(){return Form.utils.setSectionHeight(t(this),!1,!0,i)}),e.on("resize",util.debounce(function(){return Form.utils.saveSectionHeights(n),n.trigger("height_changed")},250))},Form.prototype.showGeneralErrorMessage=function(){return this.form.removeClass("loading"),this.options.callbackOnResults(),this.resultsPlaceholder.length?this.resultsPlaceholder.html(a.error):void 0},Form.prototype.focusOnFirstErrorField=function(){return this.step.current.find(".fieldset.error").not(".fieldtype_radio").not(".fieldtype_radio_hybrid").not(".fieldtype_checkbox").not(".fieldtype_checkbox_single").first().find("input").trigger("focus")},Form.utils={setSectionHeight:function(t,e,i,n){return null==e&&(e=!0),null==i&&(i=!0),null==n&&(n=40),i&&t.data("height",t.children(".step-innerwrap").height()+70),t.height(t.data("height")),e?t.siblings(".step").css("height",n+"px"):void 0},saveSectionHeights:function(e){return e.each(function(){var e,i,n;return e=t(this),i=e.children(".step-innerwrap"),i=i.length?i:e,n=i.height()+70,e.data("height",n)})},scrollTo:function(t){var e;return t&&t.length&&(e=t.offset(),window.pageYOffset>e.top)?$$("html, body").animate({scrollTop:e.top-70},300):void 0}}}(jQuery)}).call(this),function(t){return t(".form_boxed").each(function(){var e;return e=t(this),e.hasClass("standard")?new Form(e,{dontDisableFields:!0}):new Form(e)})}(jQuery),$(".faqs_small").length&&!function(t){var e;return e=function(){return $$(".faqs_small-list-item").each(function(){var e,i;return e=t(this),i=e.find(".faqs_small-list-item-content").height()+50,e.css("height",i)})},$window.on("resize",util.debounce(e,250)),setTimeout(function(){return $$(".faqs_small-list-item").each(function(){var e;return e=t(this),e.css("height",e.height()).addClass("closed"),e.data("closed",!0)})},50),$$(".faqs_small-list-item").on("click",function(){var e,i;return e=t(this),i=e.data("closed"),i?(e.removeClass("closed").siblings().addClass("closed").removeClass("show").data("closed",!0),setTimeout(function(){return e.addClass("show")},100)):e.addClass("closed").removeClass("show"),e.data("closed",!i)})}(jQuery);
